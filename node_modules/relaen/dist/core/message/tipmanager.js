"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.RelaenTipManager = void 0;
const relaentip_1 = require("../relaentip");
/**
 * 获取体胖信息
 */
class RelaenTipManager {
    /**
     * 获取消息
     * @param type -    类型
     * @param code -    错误码
     * @param params -  参数
     * @returns         提示信息
     */
    static get(type, code, ...params) {
        if (params.length > 0) {
            return this.compileString(relaentip_1.RelaenTip[type][code], ...params);
        }
        return relaentip_1.RelaenTip[type][code];
    }
    /**
     * 获取提示信息
     * @param code -    提示码
     * @param params -  参数
     * @returns         提示信息
     */
    static getTip(code, ...params) {
        return this.get('tip', code, ...params);
    }
    /**
     * 获取异常信息
     * @param code -    提示码
     * @param params -  参数
     * @returns         异常信息
     */
    static getError(code, ...params) {
        return this.get('error', code, ...params) || this.get('error', '0000');
    }
    /**
     * 编译string
     * @param src       源消息
     * @param params    参数数组
     * @returns
     */
    static compileString(src, ...params) {
        if (!params || params.length === 0) {
            return src;
        }
        let reg;
        for (let i = 0; i < params.length; i++) {
            const ri = '${' + i + '}';
            if (src.indexOf(ri) !== -1) {
                reg = new RegExp('\\$\\{' + i + '\\}', 'g');
                src = src.replace(reg, params[i]);
            }
            else {
                break;
            }
        }
        return src;
    }
}
exports.RelaenTipManager = RelaenTipManager;
//# sourceMappingURL=tipmanager.js.map